This is my REST service that automatically creates pictures' previews. It works like this: somewhere in the code of our major application we write 
<img src="<?= Thumbnail::link('/image/uploads/1234567.png', 400, 300, Thumbnal::MODE_CROP) ?>"> and a link  is created which will return thumbnail with width no more than 400 and height no more than 300 px.